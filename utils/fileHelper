const fs = require("fs");

module.exports = {
  // === TXT file ===
  readText(filePath, defaultValue = "") {
    try {
      return fs.readFileSync(filePath, "utf8").trim();
    } catch {
      return defaultValue;
    }
  },

  writeText(filePath, content) {
    try {
      fs.writeFileSync(filePath, content, "utf8");
    } catch (err) {
      console.error("❌ Error writing file:", err.message);
    }
  },

  // === JSON file ===
  readJSON(filePath, defaultValue = {}) {
    try {
      return JSON.parse(fs.readFileSync(filePath, "utf8"));
    } catch {
      return defaultValue;
    }
  },

  writeJSON(filePath, data) {
    try {
      fs.writeFileSync(filePath, JSON.stringify(data, null, 2), "utf8");
    } catch (err) {
      console.error("❌ Error writing JSON:", err.message);
    }
  }
};
